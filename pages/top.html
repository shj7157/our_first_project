<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="jquery-3.7.0.min.js"></script>
    <title>top</title>
    <script>
      $(document).ready(function () {
        $(".menu-selected").hover(
          function () {
            $(this).find(".menu-content").css("display", "block");
          },
          function () {
            $(this).find(".menu-content").css("display", "none");
          }
        );
        $(".menu-selected")
          .focusin(function () {
            $(this).find(".menu-content").css("display", "block");
          })
          .focusout(function () {
            $(this).find(".menu-content").css("display", "none");
          });
      });
    </script>
    <script>
      window.onload = function () {
        const topNav = document.getElementById("topNav");

        topNav.addEventListener("mouseenter", () => {
          topNav.style.backgroundColor = "rgba(255, 255, 255, 1)";
        });

        topNav.addEventListener("mouseleave", () => {
          if (window.scrollY > 0) {
            topNav.style.backgroundColor = "rgba(255, 255, 255, 0.6)";
          } else {
            topNav.style.backgroundColor = "rgba(255, 255, 255, 1)";
          }
        });

        window.addEventListener("scroll", () => {
          if (window.scrollY > 0) {
            topNav.style.backgroundColor = "rgba(255, 255, 255, 0.6)";
          } else {
            topNav.style.backgroundColor = "rgba(255, 255, 255, 1)";
          }
        });
      };
    </script>
    <link rel="stylesheet" href="main.css" />
  </head>
  <body>
    <nav class="topNav" id="topNav">
      <a href="banner.html" class="logo"></a>
      <div class="menuList">
        <div class="menu">
          <ul class="menu-selected">
            <div class="me">item ▼</div>
            <div class="menu-content" style="display: none">
              <a href="top.html"><li id="sel">top</li></a>
              <a href="bottom.html"><li id="sel">bottom</li></a>
              <a href="outer.html"><li id="sel">outer</li></a>
            </div>
          </ul>
        </div>
        <div class="menu">
          <ul class="menu-selected">
            <div class="me">home page ▼</div>
            <div class="menu-content" style="display: none">
              <a href="bord.html"><li id="sel">게시판</li></a>
              <a href="notice.html"><li id="sel">notice</li></a>
              <a href="center.html"><li id="sel">고객센터</li></a>
            </div>
          </ul>
        </div>
        <div class="menu">
          <ul class="menu-selected">
            <div class="me">my page ▼</div>
            <div class="menu-content" style="display: none">
              <a href="order_list.html"><li id="sel">주문 내역</li></a>
              <a href="mypage.html"><li id="sel">내 정보</li></a>
              <a href="bbaguri.html"><li id="sel">cart</li></a>
            </div>
          </ul>
        </div>
        <div class="menu" id="loginButtonContainer">
          <a id="loginButton" href="login.html">Login</a>
        </div>
        <div class="menu" id="logoutButtonContainer" style="display: none">
          <a id="logoutButton" href="#" onclick="logoutButtonClick()">Logout</a>
        </div>
      </div>
    </nav>

    <main>
      <section class="aboveSection">
        <ul class="above">
          <hr />
          <br /><br /><br /><br /><br /><br />
          <p style="font-style: italic; font-size: 25px">Weekly Best</p>
          <p style="font-style: italic; font-size: 13px">
            일주일동안 잘 팔린 제품
          </p>
          <br />
          <hr />
          <br />
        </ul>
        <div class="aboveDiv">
          <ul class="aboveUl">
            <div class="aboveimage" id="aboveLink1">
              <div class="aboveimageBlur"><p>목폴라 니트</p></div>
            </div>
            <div class="aboveimage" id="aboveLink2">
              <div class="aboveimageBlur"><p>백호니트</p></div>
            </div>
            <div class="aboveimage" id="aboveLink3">
              <div class="aboveimageBlur"><p>슬리브 니트</p></div>
            </div>
            <div class="aboveimage" id="aboveLink4">
              <div class="aboveimageBlur"><p>케이블 니트</p></div>
            </div>
          </ul>
          <br />
          <hr />
          <br />
        </div>
      </section>
      <section class="outerSection">
        <ul class="best">
          <hr />
          <br /><br />
          <p style="font-style: italic; font-size: 20px">Outer</p>
          <br />
          <hr />
          <br />
        </ul>
        <div class="outerDiv">
          <ul class="outerUl">
            <div class="outerimage" id="topLink1">
              <div class="outerimageBlur"><p>목폴라 니트</p></div>
            </div>
            <div class="outerimage" id="topLink2">
              <div class="outerimageBlur"><p>백호 니트</p></div>
            </div>
            <div class="outerimage" id="topLink3">
              <div class="outerimageBlur"><p>슬리브 니트</p></div>
            </div>
            <div class="outerimage" id="topLink4">
              <div class="outerimageBlur"><p>케이블 니트</p></div>
            </div>
            <div class="outerimage" id="topLink5">
              <div class="outerimageBlur"><p>윈드브레이커</p></div>
            </div>
            <div class="outerimage" id="topLink6">
              <div class="outerimageBlur"><p>꽈배기 니트</p></div>
            </div>
            <div class="outerimage" id="topLink7">
              <div class="outerimageBlur"><p>루즈핏 니트</p></div>
            </div>
            <div class="outerimage" id="topLink8">
              <div class="outerimageBlur"><p>목폴라 기모 니트</p></div>
            </div>
            <div class="outerimage" id="topLink9">
              <div class="outerimageBlur"><p>브이넥 니트</p></div>
            </div>
            <div class="outerimage" id="topLink10">
              <div class="outerimageBlur"><p>앙고라 니트</p></div>
            </div>
            <div class="outerimage" id="topLink11">
              <div class="outerimageBlur"><p>어깨절개 슬리브</p></div>
            </div>
            <div class="outerimage" id="topLink12">
              <div class="outerimageBlur"><p>프린팅 맨투맨</p></div>
            </div>
            <div class="outerimage" id="topLink13">
              <div class="outerimageBlur"><p>브이넥 슬리브</p></div>
            </div>
            <div class="outerimage" id="topLink14">
              <div class="outerimageBlur"><p>레터링 후드티</p></div>
            </div>
            <div class="outerimage" id="topLink15">
              <div class="outerimageBlur"><p>케이블 긴팔 니트</p></div>
            </div>
            <div class="outerimage" id="topLink16">
              <div class="outerimageBlur"><p>배색 슬리브</p></div>
            </div>
          </ul>
          <br /><br /><br />
        </div>
      </section>
    </main>
    <footer>
      <div class="footdiv">
        <div class="footRight">
          2033012 서현진<br />2033070 강민태<br />2233028 정건아
        </div>
      </div>
    </footer>
    <script src="logined.js"></script>
    <script>
      const abovePaths = [
        "./image/top1.jpg",
        "./image/top2.jpg",
        "./image/top3.jpg",
        "./image/top4.jpg",
      ];

      // 모든 .bestimage 요소를 선택합니다.
      const aboveImages = document.querySelectorAll(".aboveimage");

      // 이미지 경로 배열을 .bestimage 요소에 배치합니다.
      aboveImages.forEach((aboveImage, index) => {
        aboveImage.style.backgroundImage = `url(${abovePaths[index]})`;
      });
    </script>

    <script>
      const topPaths = [
        "./image/top1.jpg",
        "./image/top2.jpg",
        "./image/top3.jpg",
        "./image/top4.jpg",
        "./image/top5.jpg",
        "./image/top6.jpg",
        "./image/top7.jpg",
        "./image/top8.jpg",
        "./image/top9.jpg",
        "./image/top10.jpg",
        "./image/top11.jpg",
        "./image/top12.jpg",
        "./image/top13.jpg",
        "./image/top14.jpg",
        "./image/top15.jpg",
        "./image/top16.jpg",
      ];

      // 모든 .outerimage 요소를 선택합니다.
      const topImages = document.querySelectorAll(".outerimage");

      // 이미지 경로 배열을 .outerimage 요소에 배치합니다.
      topImages.forEach((topImage, index) => {
        topImage.style.backgroundImage = `url(${topPaths[index]})`;
      });
    </script>
    <script>
      // 이미지의 총 개수 (이 경우 4개)
      const abovetotalImages = 4;

      // 각 이미지에 클릭 이벤트를 할당하기 위해 루프 실행
      for (let i = 1; i <= abovetotalImages; i++) {
        const imageId = `aboveLink${i}`;
        // 클릭 이벤트 핸들러를 생성하여 할당
        document
          .getElementById(imageId)
          .addEventListener("click", createClickHandler(i));
      }

      // 클릭 핸들러를 생성하는 함수
      function createClickHandler(index) {
        return function () {
          // 토큰 생성
          const Goods_no = `top${index}`;
          // 페이지 이동 함수 호출
          navigateToPageWithToken("goods.html", Goods_no);
        };
      }

      // 페이지 이동 함수
      function navigateToPageWithToken(link, Goods_no) {
        function getGoodsNoFromImageIndex(index) {
          // 실제로는 데이터베이스에서 해당 이미지 인덱스에 대한 Goods_no를 가져오는 쿼리를 실행해야 합니다.
          // 가상의 상황으로 간단하게 이미지 인덱스에 100을 더한 값을 사용합니다.
          return fetchGoodsNoFromDatabase(index); // 가상의 함수, 실제로는 데이터베이스 쿼리 사용
        }

        async function fetchGoodsNoFromDatabase(index) {
          // 실제로는 서버에 요청하여 데이터베이스에서 Goods_no를 가져오는 로직을 작성해야 합니다.
          // 여기서는 간단한 비동기 함수를 사용하고, 가상의 상황으로 이미지 인덱스에 100을 더한 값을 반환합니다.
          return new Promise((resolve) => {
            setTimeout(() => {
              resolve(100 + index);
            }, 500); // 가상의 비동기 딜레이
          });
        }
        window.location.href = `${link}?Goods_no=${Goods_no}`;
        // 콘솔 로그 문장은 실제 페이지 이동 코드로 대체
      }
    </script>
    <script>
      // 이미지의 총 개수 (이 경우 4개)
      const toptotalImages = 16;

      // 각 이미지에 클릭 이벤트를 할당하기 위해 루프 실행
      for (let i = 1; i <= toptotalImages; i++) {
        const imageId = `topLink${i}`;
        // 클릭 이벤트 핸들러를 생성하여 할당
        document
          .getElementById(imageId)
          .addEventListener("click", createClickHandler(i));
      }

      // 클릭 핸들러를 생성하는 함수
      function createClickHandler(index) {
        return function () {
          // 토큰 생성
          const Goods_no = `top${index}`;
          // 페이지 이동 함수 호출
          navigateToPageWithToken("goods.html", Goods_no);
        };
      }

      // 페이지 이동 함수
      function navigateToPageWithToken(link, Goods_no) {
        function getGoodsNoFromImageIndex(index) {
          // 실제로는 데이터베이스에서 해당 이미지 인덱스에 대한 Goods_no를 가져오는 쿼리를 실행해야 합니다.
          // 가상의 상황으로 간단하게 이미지 인덱스에 100을 더한 값을 사용합니다.
          return fetchGoodsNoFromDatabase(index); // 가상의 함수, 실제로는 데이터베이스 쿼리 사용
        }

        async function fetchGoodsNoFromDatabase(index) {
          // 실제로는 서버에 요청하여 데이터베이스에서 Goods_no를 가져오는 로직을 작성해야 합니다.
          // 여기서는 간단한 비동기 함수를 사용하고, 가상의 상황으로 이미지 인덱스에 100을 더한 값을 반환합니다.
          return new Promise((resolve) => {
            setTimeout(() => {
              resolve(100 + index);
            }, 500); // 가상의 비동기 딜레이
          });
        }
        window.location.href = `${link}?Goods_no=${Goods_no}`;
        // 콘솔 로그 문장은 실제 페이지 이동 코드로 대체
      }
    </script>
  </body>
</html>
