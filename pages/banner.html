<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="jquery-3.7.0.min.js"></script>
    <title>banner</title>
    <link rel="stylesheet" href="main.css" />
    <script>
      //팝업창
      // var pop = window.open("popup.html","", "width=700,height=500");
      // pop.moveBy(600,200);

      $(document).ready(function () {
        $(".menu-selected").hover(
          function () {
            $(this).find(".menu-content").css("display", "block");
          },
          function () {
            $(this).find(".menu-content").css("display", "none");
          }
        );
        $(".menu-selected")
          .focusin(function () {
            $(this).find(".menu-content").css("display", "block");
          })
          .focusout(function () {
            $(this).find(".menu-content").css("display", "none");
          });
      });
    </script>
    <script>
      window.onload = function () {
        const topNav = document.getElementById("topNav");

        topNav.addEventListener("mouseenter", () => {
          topNav.style.backgroundColor = "rgba(255, 255, 255, 1)";
        });

        topNav.addEventListener("mouseleave", () => {
          if (window.scrollY > 0) {
            topNav.style.backgroundColor = "rgba(255, 255, 255, 0.6)";
          } else {
            topNav.style.backgroundColor = "rgba(255, 255, 255, 1)";
          }
        });

        window.addEventListener("scroll", () => {
          if (window.scrollY > 0) {
            topNav.style.backgroundColor = "rgba(255, 255, 255, 0.6)";
          } else {
            topNav.style.backgroundColor = "rgba(255, 255, 255, 1)";
          }
        });
      };
      function redirectToLink(link) {
        // 클릭된 이미지에 대한 링크로 이동합니다.
        window.location.href = link;
      }
    </script>
  </head>
  <body>
    <nav class="topNav" id="topNav">
      <a href="banner.html" class="logo"></a>
      <div class="menuList">
        <div class="menu">
          <ul class="menu-selected">
            <div class="me">item ▼</div>
            <div class="menu-content" style="display: none">
              <a href="top.html"><li id="sel">top</li></a>
              <a href="bottom.html"><li id="sel">bottom</li></a>
              <a href="outer.html"><li id="sel">outer</li></a>
            </div>
          </ul>
        </div>
        <div class="menu">
          <ul class="menu-selected">
            <div class="me">home page ▼</div>
            <div class="menu-content" style="display: none">
              <a href="bord.html"><li id="sel">게시판</li></a>
              <a href="notice.html"><li id="sel">notice</li></a>
              <a href="center.html"><li id="sel">고객센터</li></a>
            </div>
          </ul>
        </div>
        <div class="menu">
          <ul class="menu-selected">
            <div class="me">my page ▼</div>
            <div class="menu-content" style="display: none">
              <a href="order_list.html"><li id="sel">주문 내역</li></a>
              <a href="mypage.html"><li id="sel">내 정보</li></a>
              <a href="bbaguri.html"><li id="sel">cart</li></a>
            </div>
          </ul>
        </div>
        <div class="menu" id="loginButtonContainer">
          <a id="loginButton" href="login.html">Login</a>
        </div>
        <div class="menu" id="logoutButtonContainer" style="display: none">
          <a id="logoutButton" href="#" onclick="logoutButtonClick()">Logout</a>
        </div>
      </div>
    </nav>

    <main>
      <section class="new">
        <br /><br />
        <p id="new">신상품</p>
        <br />
        <ul class="new_img">
          <div class="newimgItem">
            <div
              class="newimgBlur"
              onclick='redirectToLink("https://www.instagram.com/wjdrjsdk_.k?igshid=YTQwZjQ0Nml0OA==")'
            >
              <a href=""></a>
            </div>
            @wjdrjsdk_.k
          </div>
          <div class="newimgItem">
            <div
              class="newimgBlur"
              onclick='redirectToLink("https://www.instagram.com/s_h_j_01?igshid=YTQwZjQ0Nml0OA==")'
            ></div>
            @s_h_j_01
          </div>
          <div class="newimgItem">
            <div
              class="newimgBlur"
              onclick='redirectToLink("https://www.instagram.com/s_h_j_01?igshid=YTQwZjQ0Nml0OA==")'
            ></div>
            @s_h_j_01
          </div>
          <div class="newimgItem">
            <div
              class="newimgBlur"
              onclick='redirectToLink("https://www.instagram.com/mixozxo?igshid=YTQwZjQ0Nml0OA==")'
            ></div>
            @mixozxo
          </div>
          <br />
          <br />
        </ul>
      </section>
      <br />
      <div id="slidecontainer" class="bannerclass">
        <img class="slide" src="image/banner.jpg" width="100%" height="100%" />
      </div>
      <br /><br />

      <section class="bestSection">
        <ul class="best">
          <hr />
          <br />
          <p style="font-style: italic; font-size: 25px">Weekly Best</p>
          <p style="font-style: italic; font-size: 13px">
            일주일동안 잘 팔린 제품
          </p>
          <br />
          <hr />
          <br />
        </ul>
        <div class="bestDiv">
          <ul class="bestUl">
            <div class="bestimage" id="topLink1">
              <div class="bestimageBlur"><p>패딩</p></div>
            </div>
            <div class="bestimage" id="topLink2">
              <div class="bestimageBlur"><p>조끼패딩</p></div>
            </div>
            <div class="bestimage" id="topLink3">
              <div class="bestimageBlur"><p>목폴라 가디건</p></div>
            </div>
            <div class="bestimage" id="topLink4">
              <div class="bestimageBlur"><p>배색 레더자켓</p></div>
            </div>
            <div class="bestimage" id="topLink5">
              <div class="bestimageBlur"><p>무스탕</p></div>
            </div>
            <div class="bestimage" id="topLink6">
              <div class="bestimageBlur"><p>모헤어 가디건</p></div>
            </div>
            <div class="bestimage" id="topLink7">
              <div class="bestimageBlur"><p>투웨이 집업 가디건</p></div>
            </div>
            <div class="bestimage" id="topLink8">
              <div class="bestimageBlur"><p>후리스</p></div>
            </div>
            <div class="bestimage" id="topLink9">
              <div class="bestimageBlur"><p>모헤어 집업</p></div>
            </div>
            <div class="bestimage" id="topLink10">
              <div class="bestimageBlur"><p>데님 워싱 자켓</p></div>
            </div>
            <div class="bestimage" id="topLink11">
              <div class="bestimageBlur"><p>구스 패딩</p></div>
            </div>
            <div class="bestimage" id="topLink12">
              <div class="bestimageBlur"><p>스웨이드 자켓</p></div>
            </div>
            <div class="bestimage" id="topLink13">
              <div class="bestimageBlur"><p>레더 패딩</p></div>
            </div>
            <div class="bestimage" id="topLink14">
              <div class="bestimageBlur"><p>모헤어 집업</p></div>
            </div>
            <div class="bestimage" id="topLink15">
              <div class="bestimageBlur"><p>숏 레더 패딩</p></div>
            </div>
            <div class="bestimage" id="topLink16">
              <div class="bestimageBlur"><p>바이커 레더 자켓</p></div>
            </div>
          </ul>
          <br /><br /><br />
        </div>
      </section>
    </main>
    <footer>
      <div class="footdiv">
        <div class="footRight">
          2033012 서현진<br />2033070 강민태<br />2233028 정건아
        </div>
      </div>
    </footer>
    <script src="logined.js"></script>
    <script>
      const imagePaths = [
        "./image/outer1.jpg",
        "./image/outer2.jpg",
        "./image/outer3.jpg",
        "./image/outer4.jpg",
        "./image/outer5.jpg",
        "./image/outer6.jpg",
        "./image/outer7.jpg",
        "./image/outer8.jpg",
        "./image/outer9.jpg",
        "./image/outer10.jpg",
        "./image/outer11.jpg",
        "./image/outer12.jpg",
        "./image/outer13.jpg",
        "./image/outer14.jpg",
        "./image/outer15.jpg",
        "./image/outer16.jpg",
      ];

      // 모든 .outerimage 요소를 선택합니다.
      const outerImages = document.querySelectorAll(".bestimage");

      // 이미지 경로 배열을 .outerimage 요소에 배치합니다.
      outerImages.forEach((outerImage, index) => {
        outerImage.style.backgroundImage = `url(${imagePaths[index]})`;
      });
    </script>
    <script>
      // 이미지의 총 개수 (이 경우 4개)
      const toptotalImages = 16;

      // 각 이미지에 클릭 이벤트를 할당하기 위해 루프 실행
      for (let i = 1; i <= toptotalImages; i++) {
        const imageId = `topLink${i}`;
        // 클릭 이벤트 핸들러를 생성하여 할당
        document
          .getElementById(imageId)
          .addEventListener("click", createClickHandler(i));
      }

      // 클릭 핸들러를 생성하는 함수
      function createClickHandler(index) {
        return function () {
          // 토큰 생성
          const Goods_no = `outer${index}`;
          // 페이지 이동 함수 호출
          navigateToPageWithToken("goods.html", Goods_no);
        };
      }

      // 페이지 이동 함수
      function navigateToPageWithToken(link, Goods_no) {
        function getGoodsNoFromImageIndex(index) {
          // 실제로는 데이터베이스에서 해당 이미지 인덱스에 대한 Goods_no를 가져오는 쿼리를 실행해야 합니다.
          // 가상의 상황으로 간단하게 이미지 인덱스에 100을 더한 값을 사용합니다.
          return fetchGoodsNoFromDatabase(index); // 가상의 함수, 실제로는 데이터베이스 쿼리 사용
        }

        async function fetchGoodsNoFromDatabase(index) {
          // 실제로는 서버에 요청하여 데이터베이스에서 Goods_no를 가져오는 로직을 작성해야 합니다.
          // 여기서는 간단한 비동기 함수를 사용하고, 가상의 상황으로 이미지 인덱스에 100을 더한 값을 반환합니다.
          return new Promise((resolve) => {
            setTimeout(() => {
              resolve(100 + index);
            }, 500); // 가상의 비동기 딜레이
          });
        }
        window.location.href = `${link}?Goods_no=${Goods_no}`;
        // 콘솔 로그 문장은 실제 페이지 이동 코드로 대체
      }
    </script>
  </body>
</html>
